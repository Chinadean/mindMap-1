<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>test events</title>
		<!--	共用文件，不要修改	start	-->
		<link href="../css/qunit.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="../js/base.js"></script>
		<script type="text/javascript" src="../js/lib/tools/qunit.js"></script>
		<!--	共用文件，不要修改	end	-->
		<script type="text/javascript">
			kampfer.require('events');
		</script>
	</head>
	<body>
		<!--	共用文件，不要修改	start	-->
		<h1 id="qunit-header">QUnit for events</h1>
		<h2 id="qunit-banner"></h2>
		<div id="qunit-testrunner-toolbar"></div>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		<div id="qunit-fixture">
			test markup, will be hidden
		</div>
		<!--	共用文件，不要修改	end	-->
		<div id="div1">
			1
			<div id="div1_1">
				1_1
				<div  id="div1_1_1">
				1_1_1</div>
			</div>
			<div  id="div1_2">1_2</div>
		</div>
		<script type="text/javascript">
			function $(id) {
				return document.getElementById(id);
			}
			
			var div1 = $('div1'),
				div1_1 = $('div1_1'),
				div1_2 = $('div1_2'),
				div1_1_1 = $('div1_1_1');
			
			test('成功储存事件处理函数', function() {
				kampfer.events.addEvent(div1, 'click', function() {});
				
				var data1 = kampfer.dataManager._data(div1);
				equal(data1.events.click.length, 1, "div1成功");
			});
			
			test('重复绑定事件', function() {
				kampfer.events.addEvent(div1, 'click', function() {});
				
				var data1 = kampfer.dataManager._data(div1);
				equal(data1.events.click.length, 2, "成功储存事件处理函数");
			});
		</script>
	</body>
</html>
