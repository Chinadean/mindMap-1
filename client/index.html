<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>templates</title>
		<link href="css/app.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="js/base.js"></script>
		<script type="text/javascript">
			kampfer.require('mindMap.MapManager');
			kampfer.require('mindMap.MapController');
		</script>
		<style type="text/css">
			#map{position:absolute;left:50%;top:50%;}
		</style>
	</head>
	<body style="cursor:move;">
		<!--
		<div style="width:100%;height:600px;overflow: hidden;position: relative;" id="container"></div>
		-->
		<script type="text/javascript">
			var data = {
				nodes : {
					root : {
						id : 'root',
						parent : '',
						children : ['abe', 'abec', 'abed', 'abee', 'abee1', 'abee2', 'abee3', 'abee4'],
						content : 'root',
						offset : {
							x : 0,
							y : 0
						},
						style : 'root'
					},
					abe : {
						id : 'abe',
						parent : 'root',
						children : [],
						content : '201212121212111111111111112',
						offset : {
							x : 200,
							y : 0
						}
					},
					abec : {
						id : 'abec',
						parent : 'root',
						children : [],
						content : '2012年06月24日15时59分在',
						offset : {
							x : 0,
							y : -90
						}
					},
					abed : {
						id : 'abed',
						parent : 'root',
						children : [],
						content : '2012',
						offset : {
							x : -150,
							y : 0
						}
					},
					abee : {
						id : 'abee',
						parent : 'root',
						children : [],
						content : '2012年06月24日15时',
						offset : {
							x : 0,
							y : 100
						}
					},
					abee1 : {
						id : 'abee1',
						parent : 'root',
						children : [],
						content : '2012年06月24日15时11',
						offset : {
							x : -150,
							y : -90
						}
					},
					abee2 : {
						id : 'abee2',
						parent : 'root',
						children : [],
						content : '2012年06月24日15时',
						offset : {
							x : 200,
							y : -90
						}
					},
					abee3 : {
						id : 'abee3',
						parent : 'root',
						children : [],
						content : '2012年06月24日15时',
						offset : {
							x : 200,
							y : 100
						}
					},
					abee4 : {
						id : 'abee4',
						parent : 'root',
						children : ['abee41'],
						content : '2012年06月24日15时',
						offset : {
							x : -150,
							y : 100
						}
					},
					abee41 : {
						id : 'abee41',
						parent : 'abee4',
						children : ['abee411'],
						content : '2012年06月24日15时',
						offset : {
							x : -160,
							y : 10
						}
					},
					abee411 : {
						id : 'abee411',
						parent : 'abee41',
						children : [],
						content : 'test',
						offset : {
							x : -160,
							y : 100
						}
					}
				},
				//map配置信息
				config : {}
			};
			var manager = new kampfer.mindMap.MapManager(data);
			var controller = new kampfer.mindMap.MapController(manager);
			controller.render();
			var i = 0;
			setTimeout(function() {
				if(i <= 10) {
					i++;
					var node = controller.getNode('abee4');
					var branch = node.getChild('branch-abee4');
					node.move(0, 5);
					branch.decorate();
					setTimeout(arguments.callee, 25);
				}
			}, 15);
			controller.monitorEvents();
		</script>
	</body>
</html>
